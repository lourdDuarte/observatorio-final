
{% extends 'base.html' %}
{% load static %}
{% block head_content %}

    <title>IPC - listado de datos</title>

{% endblock head_content %}

{% block container %}
<div class="container ">

</div>

          
  

<div class="div-filter">
  <div>
    <h6 class="mb-0">Índice de Precios al Consumidor - variables interanual / intermensual (2024)</h6>
                 
    <div style= "width: 650px; margin: 35px auto" id="chartIpc"></div>
  </div>
  <h5 class="mb-0">Comparativa Índice de Precios al Consumidor (IPC)</h5>
  {{error}}
  <div id="div-select">
    <form method= "POST" action=" {% url 'ipc-panel' %}">
      {% csrf_token %}
      
      <select name="año" id="año">
        <option selected>Seleccionar año</option>
        {% for año in años  %}
          <option value="{{año.id}}">{{año.año}}</option>
        {% endfor %}
       
      </select>
      
      <div style= "width: 650px; margin: 35px auto" id="chartIpcHistorico"></div>
      <select name="tabla" id="tabla" >
        <option selected>Tablas disponibles</option>
       
          <option value="Remuneracion">Remuneracion - sector privado</option>
          <option value="Asalariados">Asalariados registrados - sector privado</option>
       
       
      </select>
      <button type="submit" id="btn" style=" margin-top: 1em;" class="btn btn-primary ms-2">Filtrar</button>
      
      <div style= "width: 650px; margin: 35px auto; " id="chartTabla"></div>
    </form>
    
  </div>
  
</div> 
<style>
  

#div-select{
  display: block;
  margin-top: 1em;
}
</style>

<script>
  

    function obtenerDatosActual(){
      let interanual_actual = [];
      let intermensual_actual = [];
      let meses_actual = []
      // Obtener datos
      {% for data in ipc_actual %}
          interanual_actual.push({{ data.mes_anterior }});
          intermensual_actual.push({{ data.mes_año_anterior}});
          meses_actual.push('{{data.mes}}')
  
      {% endfor %}

      return [interanual_actual, intermensual_actual, meses_actual];
      }
  
   

    function obtenerDatosFiltro(){
      let interanual_filtro = []
      let intermensual_filtro = []
      let meses_filtro = []
        
          {% for data in ipc_filtro  %}
              
                interanual_filtro.push({{data.mes_anterior}}) 
                intermensual_filtro.push({{ data.mes_año_anterior}});
                meses_filtro.push('{{data.mes}}')

          {% endfor %}
            
      return [interanual_filtro, intermensual_filtro, meses_filtro];
    }

   
    

    function obtenerDatosTabla(){
      
      let interanual_tabla = []
      let intermensual_tabla = []
      let meses_tabla = []
        
          {% for data in ipc_filtro  %}
              
                interanual_filtro.push({{data.mes_anterior}}) 
                intermensual_filtro.push({{ data.mes_año_anterior}});
                meses_filtro.push('{{data.mes}}')

          {% endfor %}
            
      return [interanual_filtro, intermensual_filtro, meses_filtro];
    }

    
  ipc()
</script>
{% endblock container %}